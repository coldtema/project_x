{%extends 'base.html'%}

{%block title%}wb_checker{%endblock title%}

{%block content%}
<div class="grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 p-4 sm:p-6 lg:p-10">
    {% for elem in prods %}
    <div class="relative border rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition bg-white flex flex-col">

        <!-- Стикер "Скидка" -->
        <div class="absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full z-10">
            -20%
        </div>

        <!-- Иконка избранного -->
        <button class="absolute top-2 right-2 text-gray-600 hover:text-red-500 z-10">
            <svg class="w-5 h-5 fill-current" viewBox="0 0 20 20">
                <path d="M10 18l-1.45-1.32C4.4 12.36 2 10.28 2 7.5 2 5.5 3.5 4 5.5 4c1.24 0 2.47.6 3.26 1.53C9.03 4.6 10.26 4 11.5 4 13.5 4 15 5.5 15 7.5c0 2.78-2.4 4.86-6.55 9.18L10 18z"/>
            </svg>
        </button>

        <!-- Картинка -->
        <img src="{{elem.image_url}}" alt="Product" class="w-full h-48 object-cover">

        <!-- Контент -->
        <div class="p-4 flex flex-col flex-1 gap-3">
            <h3 class="text-base font-semibold text-gray-900 line-clamp-2">
                {{elem.name}}
            </h3>

            <!-- Рейтинг -->
            <div class="flex items-center gap-1 text-yellow-400 text-sm">
                <span class="text-lg">★</span>
                <span>{{elem.rating}}</span>
                <span class="text-xs text-gray-500">({{elem.feedbacks}} отзывов)</span>
            </div>

            <!-- Цена -->
            <div class="text-xl font-bold text-red-600">{{elem.latest_price}} ₽</div>

            <!-- Кнопка -->
            <a href="{{ elem.url }}" target="_blank" class="block w-full text-center bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 rounded-md shadow-md transition duration-200">
                Подробнее
            </a>
        </div>
    </div>
    {% endfor %}
</div>


{%endblock content%}
  