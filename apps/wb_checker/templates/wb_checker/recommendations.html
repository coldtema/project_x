{% extends 'base.html' %}
{% block title %}–¢–æ–≤–∞—Ä—ã{% endblock title %}
{%load custom_math%}
{% block content %}
<div class="max-w-7xl mx-auto px-0 sm:px-6 lg:px-8 py-6">
  <h1 class="text-2xl font-bold mb-6 text-gray-900 dark:text-white">–ü–æ–¥–±–æ—Ä–∫–∞</h1>
  <!-- –ë–ª–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
  <div class="mb-4 pb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-6">
    <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å: –∫–Ω–æ–ø–∫–∞ -->
    <div>
      <a href= {%url 'wb_checker:recommendations_settings'%} class="inline-block  text-center text-sm hover:text-blue-600 text-gray-900 dark:text-white font-semibold px-4 py-2 border-2 border-gray-300 dark:border-neutral-700 rounded-2xl bg-white dark:bg-neutral-900 hover:ring-2 hover:ring-blue-500 shadow transition">
        ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–±–æ—Ä–∫—É
      </a>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ -->
    <div class="flex flex-col sm:flex-row sm:items-center gap-2">
      <h2 class="text-lg font-semibold text-gray-800 dark:text-white sm:mr-2">–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ:</h2>

      <form method="get" class="flex gap-2">
        <select name="sort" onchange="this.form.submit()" class="text-sm rounded-md border border-gray-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-gray-700 dark:text-gray-200 px-3 py-1 focus:ring-blue-500 focus:border-blue-500 transition">
          <option value="" {% if request.GET.sort == '' %} selected {% endif %}>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
          <option value="price" {% if request.GET.sort == 'price' %} selected {% endif %}>üí∏ –¶–µ–Ω–µ</option>
          <option value="discount" {% if request.GET.sort == 'discount' %} selected {% endif %}>üìâ –°–∫–∏–¥–∫–µ</option>
          <option value="rating" {% if request.GET.sort == 'rating' %} selected {% endif %}>‚≠ê –†–µ–π—Ç–∏–Ω–≥—É</option>
          <option value="feedbacks" {% if request.GET.sort == 'feedbacks' %} selected {% endif %}>üí¨ –û—Ç–∑—ã–≤–∞–º</option>
        </select>
        {% comment %} <input type="hidden" name="page" value="{{ request.GET.page }}"> {% endcomment %}
      </form>
    </div>
  </div>


  <div class="products">
    {%include 'wb_checker/partials/lazy_recs_cards.html' with prods=prods lazy_page=lazy_page request=request%}
  </div>
  <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è
        <div class="mt-10">
            {% include "wb_checker/pagination.html" with page=prods page_range=page_range request=request.GET%}
        </div> -->
</div>
{% endblock content %}
